var com;
(function(c){c=c.drikin||(c.drikin={});c=c.FlickrEx||(c.FlickrEx={});var f=function(){this.api_key="18c9f79a96fd34c3b3f16a93fb0a5d3c";this.api_type="json&nojsoncallback=1";this.base_url="https://api.flickr.com/services/rest/?";void 0!==window.FLICKREX_API_KEY&&(this.api_key=window.FLICKREX_API_KEY,delete window.FLICKREX_API_KEY);this.base_url=this.appendURLParams({api_key:this.api_key});this.base_url=this.appendURLParams({format:this.api_type})};f.prototype.appendURLParams=function(b){var d=this.base_url,
a;for(a in b)d+="&"+a+"="+b[a];return d};f.prototype.getJsonResult=function(b,d){jQuery.ajax(b,{success:function(a){d(a)},dataType:"json"})};f.prototype.parseFlickrImageURL=function(b){var d=jQuery(b).attr("data-original")||jQuery(b).attr("data-lazy-src")||jQuery(b).attr("src"),a=d.split("/"),c=a[2];if(c.match(/^c/))var c=a[3],f=a[4],e=a[5].split("_");else c=c.split(".").slice(0,1)[0].replace("farm",""),f=a[3],e=a[4].split("_");var h=e.slice(0,1)[0],g=e.slice(1,2)[0],g=e.slice(1,2)[0],e=e.slice(2,
3),e=e.length?e.length&&e[0].split(".").slice(0,1)[0]:"",a=a.slice(-1)[0].split(".").slice(-1)[0];return{node:b,url_string:d,farm_id:c,server_id:f,id:h,secret:g,size:e,file_ext:a}};f.prototype.getAllFlickrImageObjects=function(b){"undefined"===typeof b&&(b="img");b=jQuery(b).filter(function(){var a=jQuery(this).attr("src"),b=jQuery(this).attr("data-original"),c=jQuery(this).attr("data-lazy-src");return a&&a.match(/static.?flickr.com/)||b&&b.match(/static.?flickr.com/)||c&&c.match(/static.?flickr.com/)});
for(var d=[],a=0,c=b.length;a<c;a++)d.push(this.parseFlickrImageURL(b[a]));return d};f.prototype.getExif=function(b,c){var a=this.appendURLParams({method:"flickr.photos.getExif",photo_id:b});this.getJsonResult(a,c)};f.prototype.getRecentURL=function(b){var c=this.appendURLParams({method:"flickr.photos.getRecent"});this.getJsonResult(c,b)};c.Base=f})(com||(com={}));
