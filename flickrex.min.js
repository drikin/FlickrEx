var com;
(function(d){d=d.drikin||(d.drikin={});d=d.FlickrEx||(d.FlickrEx={});var f=function(){this.api_key="18c9f79a96fd34c3b3f16a93fb0a5d3c";this.api_type="json&nojsoncallback=1";this.base_url="http://api.flickr.com/services/rest/?";void 0!==window.FLICKREX_API_KEY&&(this.api_key=window.FLICKREX_API_KEY,delete window.FLICKREX_API_KEY);this.base_url=this.appendURLParams({api_key:this.api_key});this.base_url=this.appendURLParams({format:this.api_type})};f.prototype.appendURLParams=function(a){var c=this.base_url,
b;for(b in a)c+="&"+b+"="+a[b];return c};f.prototype.getJsonResult=function(a,c){jQuery.ajax(a,{success:function(a){c(a)},dataType:"json"})};f.prototype.parseFlickrImageURL=function(a){var c=jQuery(a).attr("data-original")||jQuery(a).attr("data-lazy-src")||jQuery(a).attr("src"),b=c.split("/"),g=b[2];if(g.match(/^c/)){console.log(g);var g=b[3],d=b[4],e=b[5].split("_")}else g=g.split(".").slice(0,1)[0].replace("farm",""),d=b[3],e=b[4].split("_");var f=e.slice(0,1)[0],h=e.slice(1,2)[0],h=e.slice(1,2)[0],
e=e.slice(2,3),e=e.length?e.length&&e[0].split(".").slice(0,1)[0]:"",b=b.slice(-1)[0].split(".").slice(-1)[0];a={node:a,url_string:c,farm_id:g,server_id:d,id:f,secret:h,size:e,file_ext:b};console.log(a);return a};f.prototype.getAllFlickrImageObjects=function(a){"undefined"===typeof a&&(a="img");a=jQuery(a).filter(function(){var a=jQuery(this).attr("src"),b=jQuery(this).attr("data-original"),c=jQuery(this).attr("data-lazy-src");return a&&a.match(/static.?flickr.com/)||b&&b.match(/static.?flickr.com/)||
c&&c.match(/static.?flickr.com/)});for(var c=[],b=0,d=a.length;b<d;b++)c.push(this.parseFlickrImageURL(a[b]));return c};f.prototype.getExif=function(a,c){var b=this.appendURLParams({method:"flickr.photos.getExif",photo_id:a});this.getJsonResult(b,c)};f.prototype.getRecentURL=function(a){var c=this.appendURLParams({method:"flickr.photos.getRecent"});this.getJsonResult(c,a)};d.Base=f})(com||(com={}));
