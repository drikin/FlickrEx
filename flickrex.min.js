var com;
(function(d){d=d.drikin||(d.drikin={});d=d.FlickrEx||(d.FlickrEx={});var f=function(){this.api_key="18c9f79a96fd34c3b3f16a93fb0a5d3c";this.api_type="json&nojsoncallback=1";this.base_url="http://api.flickr.com/services/rest/?";void 0!==window.FLICKREX_API_KEY&&(this.api_key=window.FLICKREX_API_KEY,delete window.FLICKREX_API_KEY);this.base_url=this.appendURLParams({api_key:this.api_key});this.base_url=this.appendURLParams({format:this.api_type})};f.prototype.appendURLParams=function(a){var c=this.base_url,
b;for(b in a)c+="&"+b+"="+a[b];return c};f.prototype.getJsonResult=function(a,c){jQuery.ajax(a,{success:function(a){c(a)},dataType:"json"})};f.prototype.parseFlickrImageURL=function(a){var c=$(a).attr("src"),b=c.split("/"),d=b[2].split(".").slice(0,1)[0].replace("farm",""),f=b[3],e=b[4].split("_"),h=e.slice(0,1)[0],g=e.slice(1,2)[0],g=e.slice(1,2)[0],e=e.slice(2,3),e=e.length?e.length&&e[0].split(".").slice(0,1)[0]:"",b=b.slice(-1)[0].split(".").slice(-1)[0];return{node:a,url_string:c,farm_id:d,server_id:f,
id:h,secret:g,size:e,file_ext:b}};f.prototype.getAllFlickrImageObjects=function(a){"undefined"===typeof a&&(a="img");a=jQuery(a).filter(function(){var a=$(this).attr("src");return a&&a.match(/staticflickr.com/)});for(var c=[],b=0,d=a.length;b<d;b++)c.push(this.parseFlickrImageURL(a[b]));return c};f.prototype.getExif=function(a,c){var b=this.appendURLParams({method:"flickr.photos.getExif",photo_id:a});this.getJsonResult(b,c)};f.prototype.getRecentURL=function(a){var c=this.appendURLParams({method:"flickr.photos.getRecent"});
this.getJsonResult(c,a)};d.Base=f})(com||(com={}));